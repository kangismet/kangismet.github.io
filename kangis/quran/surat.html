<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>Quran</title>

<link href="https://fonts.googleapis.com/css2?family=Amiri+Quran&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:system-ui;
  background:#f5f6f8;
}

/* HEADER */
header{
  background:#0ea5a4;
  color:#fff;
  padding:14px;
}

.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:8px;
}

.topbar button{
  background:#fff;
  border:none;
  padding:6px 10px;
  border-radius:6px;
  cursor:pointer;
}

/* TITLE */
.title{
  text-align:center;
}

.title h2{
  margin:0;
}

.title small{
  opacity:.9;
}

/* AYAT */
.container{
  max-width:850px;
  margin:auto;
  padding:16px;
}

.ayat{
  background:#fff;
  padding:18px;
  border-radius:12px;
  margin-bottom:12px;
  box-shadow:0 2px 4px rgba(0,0,0,.05);
}

.nomor{
  font-size:12px;
  opacity:.5;
  margin-bottom:6px;
}

.arab{
  font-family:'Amiri Quran';
  font-size:30px;
  text-align:right;
  line-height:2.2;
}

.arti{
  margin-top:8px;
  font-size:14px;
  opacity:.85;
}

/* NAV BOTTOM */
.bottom-nav{
  display:flex;
  justify-content:space-between;
  gap:10px;
  margin:18px 0;
}

.bottom-nav button{
  flex:1;
  padding:10px;
  border:none;
  border-radius:8px;
  background:#0ea5a4;
  color:#fff;
  cursor:pointer;
}
</style>
</head>

<body>

<header>

  <div class="topbar">
    <button onclick="history.back()">⬅</button>
    <div id="suratNo">Surat</div>
    <div></div>
  </div>

  <div class="title">
    <h2 id="namaLatin"></h2>
    <small id="info"></small>
  </div>

</header>

<div class="container">

  <div id="content"></div>

  <div class="bottom-nav">
    <button id="prevBtn">⬅ Surat Sebelumnya</button>
    <button id="nextBtn">Surat Selanjutnya ➡</button>
  </div>

</div>


<script>
const TOTAL_SURAT = 114;
const id = parseInt(new URLSearchParams(location.search).get('id')) || 1;

const content = document.getElementById('content');
const namaLatin = document.getElementById('namaLatin');
const info = document.getElementById('info');
const suratNo = document.getElementById('suratNo');

const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');


async function load(){

  const res = await fetch(`https://equran.id/api/surat/${id}`);
  const data = await res.json();

  /* HEADER INFO */
  suratNo.innerText = `Surat ${data.nomor}`;
  namaLatin.innerText = `${data.nama_latin} (${data.nama})`;
  info.innerText = `${data.jumlah_ayat} Ayat • ${data.tempat_turun} • ${data.arti}`;

  content.innerHTML = "";

  /* AYAT */
  data.ayat.forEach(a=>{
    const el=document.createElement('div');
    el.className='ayat';

    el.innerHTML=`
      <div class="nomor">Ayat ${a.nomor}</div>
      <div class="arab">${a.ar}</div>
      <div class="arti">${a.idn}</div>
    `;

    content.appendChild(el);
  });

  /* NAVIGASI */
  prevBtn.onclick = ()=>{
    if(id>1) location.href=`surat.html?id=${id-1}`;
  }

  nextBtn.onclick = ()=>{
    if(id<TOTAL_SURAT) location.href=`surat.html?id=${id+1}`;
  }

  if(id===1) prevBtn.style.opacity=.4;
  if(id===114) nextBtn.style.opacity=.4;

}

load();
</script>

</body>
</html>
